{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "ConnectionStrings": {
    "Default": "Data Source=(localdb)\\MSSQLLocalDB;Initial Catalog=HospitalDb;Integrated Security=True;"
  },

  "Jwt": {
    "Key": "9Fv3LQx!aP7N2#kE8Z@R0mWJdS6yH$C1B%T4eXUoM^KqA&V5r",
    "Issuer": "SmartTour",
    "Audience": "SmartTourUsers",
    "ExpireMinutes": 60
  },




  "AllowedHosts": "*"
}





//smartTouurda jwtni duzelt.(ve hemcinin her vacib seyi proyektde saxlama jwt ve digerleri)





//jwtni ele et ki, appsettingsde saxlanmasin, hardcodeda da olmasin


//1ï¸âƒ£ JWT NÆDÄ°R? (qÄ±sa, texniki)

//JWT (JSON Web Token) â€”
//server-in user-i parolsuz, stateless ÅŸÉ™kildÉ™ tanÄ±masÄ± Ã¼Ã§Ã¼n verdiyi imzalanmÄ±ÅŸ identifikasiya sÉ™nÉ™didir.

//ğŸ‘‰ YÉ™ni:

//Server login zamanÄ± token yaradÄ±r

//Client hÉ™r request-dÉ™ token-i gÃ¶ndÉ™rir

//Server token-i yoxlayÄ±r, DB-yÉ™ qaÃ§mÄ±r

//â— JWT sessiya deyil, identitet sÃ¼butudur

//2ï¸âƒ£ JWT NECÆ Ä°ÅLÆYÄ°R? (1 cÃ¼mlÉ™)

//â€œBu token mÉ™nim serverimdÉ™, bu mÉ™qsÉ™d Ã¼Ã§Ã¼n, bu vaxtadÉ™k yaradÄ±lÄ±b vÉ™ dÉ™yiÅŸdirilmÉ™yib.â€

//Bunu yoxlayan qaydalar aÅŸaÄŸÄ±dadÄ±r.

//3ï¸âƒ£ JWT QAYDALARI (BUNLAR QANUNDUR)
//ğŸ”‘ 1. Key QAYDASI

//Token bu aÃ§arla imzalanÄ±r

//Minimum 64 simvol

//Hardcode QADAÄANDIR

//GitHub â†’ âŒ

//ÆgÉ™r Key sÄ±zÄ±bsa â†’ bÃ¼tÃ¼n auth sistemi Ã¶lÃ¼dÃ¼r

//ğŸ·ï¸ 2. Issuer (iss) QAYDASI

//Token-i kim yaradÄ±b

//Server yalnÄ±z Ã¶z issuer-ini qÉ™bul etmÉ™lidir

//âŒ Issuer yoxlanmÄ±rsa â†’ baÅŸqa sistem token-i keÃ§É™ bilÉ™r

//ğŸ‘¥ 3. Audience (aud) QAYDASI

//Token harada istifadÉ™ olunmalÄ±dÄ±r

//HÉ™r API / client Ã¼Ã§Ã¼n ayrÄ± audience

//âŒ Audience yoxdursa â†’ token hÉ™r yerdÉ™ iÅŸlÉ™yÉ™r
//âŒ Bu isÉ™ security boundary pozuntusudur

//â±ï¸ 4. Expiration (exp) QAYDASI

//Token mÃ¼tlÉ™q bitmÉ™lidir

//15â€“60 dÉ™qiqÉ™ normaldÄ±r

//âŒ BitmÉ™yÉ™n token = oÄŸurlanmÄ±ÅŸ aÃ§Ä±q qapÄ±

//ğŸ§¾ 5. CLAIM QAYDASI

//JWT yalnÄ±z bunlarÄ± daÅŸÄ±malÄ±dÄ±r:

//userId

//role

//permissions (lazÄ±mdÄ±rsa)

//âŒ ÅÉ™xsi mÉ™lumat (email, phone, vÉ™ s.) â†’ token-É™ YAZILMAZ

//ğŸ” 6. TOKEN DOÄRULAMA QAYDASI

//Server mÃ¼tlÉ™q bunlarÄ± yoxlamalÄ±dÄ±r:

//Signature

//Issuer

//Audience

//Expiration

//Birini sÃ¶ndÃ¼rmÉ™k â†’ bilÉ™rÉ™kdÉ™n risk almaqdÄ±r

//ğŸ§  7. JWT-NÄ°N MÆHDUDÄ°YYÆTÄ°

//JWT geri alÄ±na bilmÉ™z

//Logout â†’ token Ã¶lÉ™nÉ™ qÉ™dÉ™r yaÅŸayÄ±r

//ğŸ‘‰ HÉ™ll:

//Short-lived JWT

//Refresh token mexanizmi

//4ï¸âƒ£ ÆN Ã‡OX BURAXILAN SÆHV (SÆRT)

//â€œJWT-ni DB-dÉ™ saxlayÄ±m?â€

//âŒ YanlÄ±ÅŸdÄ±r
//JWT server-side saxlanÄ±lmaz
//O, Ã¶zÃ¼nÃ¼ tÉ™sdiqlÉ™yÉ™n sÉ™nÉ™ddir

//5ï¸âƒ£ 1 CÃœMLÆLÄ°K YEKUN

//JWT â€” server-in user-i tanÄ±maq Ã¼Ã§Ã¼n verdiyi, imzalanmÄ±ÅŸ, vaxtÄ± olan vÉ™ mÉ™qsÉ™d-mÉ™hdudiyyÉ™tli identitet sÃ¼butudur.

//6ï¸âƒ£ YOXLAMA (cavab ver)

//JWT niyÉ™ stateless auth hesab olunur vÉ™ bu nÉ™yi qazandÄ±rÄ±r?

//CavabÄ±ndan sonra:

//ya JWT validation pipeline-Ä±,

//ya da Refresh token dizaynÄ±nÄ±
//parÃ§alayaq.


//3ï¸âƒ£ REAL SÆNARÄ° (niyÉ™ lazÄ±mdÄ±r)
//ğŸ”¹ Ssenari 1 â€“ Audience OLMADAN (tÉ™hlÃ¼kÉ™li)

//SÉ™nin Auth Server var

//O server token verir

//Token istÉ™nilÉ™n API-yÉ™ gedÉ™ bilÉ™r

//âŒ NÉ™ticÉ™:

//Admin API Ã¼Ã§Ã¼n yaradÄ±lmÄ±ÅŸ token

//User API-dÉ™ iÅŸlÉ™yir

//Security breach

//ğŸ”¹ Ssenari 2 â€“ Audience VAR (doÄŸru dizayn)

//Token:

//{
//  "iss": "SmartTour",
//  "aud": "SmartTourUsers"
//}


//User API:

//ValidateAudience = true
//ValidAudience = "SmartTourUsers"


//Admin API:

//ValidAudience = "SmartTourAdmin"


//âœ… NÉ™ticÉ™:

//User token â†’ Admin API âŒ

//Admin token â†’ User API âŒ

//HÉ™r token yalnÄ±z Ã¶z yerindÉ™ iÅŸlÉ™yir








//1ï¸âƒ£ ANALÄ°Z â€” SÆN NÆYÄ° QARIÅDIRA BÄ°LÆRSÆN?

//Æn tipik qarÄ±ÅŸÄ±qlÄ±q:

//Server = kompÃ¼ter?

//Server = proqram?

//Server = internet?

//HeÃ§ biri tÉ™kbaÅŸÄ±na dÃ¼z deyil.

//2ï¸âƒ£ SERVER NÆDÄ°R? (DÆQÄ°Q TÆRÄ°F)

//Server â€”
//ÅŸÉ™bÉ™kÉ™dÉ™n gÉ™lÉ™n sorÄŸularÄ± qÉ™bul edÉ™n vÉ™ cavab verÉ™n proqramdÄ±r.

//ğŸ“Œ Fiziki dÉ™mir ola bilÉ™r, olmaya da bilÉ™r.
//ğŸ“Œ Æsas olan roludur, formasÄ± yox.

//3ï¸âƒ£ REAL HÆYAT DÄ°LÄ° Ä°LÆ

//SÉ™n brauzerdÉ™n bunu edirsÉ™n:

//GET /api/users


//QarÅŸÄ± tÉ™rÉ™fdÉ™:

//24/7 iÅŸlÉ™yÉ™n proqram

//Request gÃ¶zlÉ™yir

//GÉ™lÉ™ndÉ™ cavab verir

//ğŸ‘‰ O proqram serverdir.

//4ï¸âƒ£ SERVER NÆ DEYÄ°L?

//âŒ Brauzer deyil
//âŒ Frontend deyil
//âŒ SadÉ™cÉ™ kompÃ¼ter deyil
//âŒ Database deyil

//Bunlar server-in Ã¼zÉ™rindÉ™ iÅŸlÉ™yÉ™ bilÉ™r, amma serverin Ã¶zÃ¼ deyil.

//5ï¸âƒ£ BÄ°R SÄ°STEMDÆ SERVER HARADADIR?

//MÉ™sÉ™lÉ™n:

//Frontend (React)
//        â†“
//Backend API (ASP.NET Core)  â† SERVER
//        â†“
//Database (SQL Server)


//Server dedikdÉ™:
//ğŸ‘‰ Backend API proqramÄ± nÉ™zÉ™rdÉ™ tutulur.

//6ï¸âƒ£ SERVER NÆ EDÄ°R? (FUNKSÄ°YALAR)

//Request qÉ™bul edir

//Business logic iÅŸlÉ™dir

//Database ilÉ™ danÄ±ÅŸÄ±r

//Auth yoxlayÄ±r (JWT)

//Response qaytarÄ±r

//7ï¸âƒ£ JWT KONTEKSTÄ°NDÆ SERVER

//JWT mÃ¶vzusunda:

//Server â†’ token hesablayÄ±r vÉ™ imzalayÄ±r

//Server â†’ token-i yoxlayÄ±r

//Server â†’ token-i saxlamÄ±r

//8ï¸âƒ£ ÆN Ã‡OX EDÄ°LÆN SÆHV

//â€œServer deyÉ™ndÉ™ VPS-i deyirikâ€

//âŒ YanlÄ±ÅŸdÄ±r.
//VPS server iÅŸlÉ™dÉ™n mÃ¼hitdir, server Ã¶zÃ¼ proqramdÄ±r.

//9ï¸âƒ£ 1 CÃœMLÆLÄ°K YEKUN

//Server â€” ÅŸÉ™bÉ™kÉ™dÉ™n gÉ™lÉ™n sorÄŸulara cavab verÉ™n backend proqramÄ±dÄ±r.

//  2ï¸âƒ£ â€œÅÆBÆKÆâ€NÄ°N DÆQÄ°Q MÆNASI

//ÅÉ™bÉ™kÉ™ (network) â€”
//bir-biri ilÉ™ mÉ™lumat gÃ¶ndÉ™rÉ™ bilÉ™n qurÄŸularÄ±n É™laqÉ™ sistemidir.


//Server â€” ÅŸÉ™bÉ™kÉ™dÉ™n gÉ™lÉ™n sorÄŸularÄ± qÉ™bul edib emal edÉ™n vÉ™ cavab verÉ™n proqramdÄ±r.

  //http://localhost:5000
//ğŸ‘‰ Bu da ÅŸÉ™bÉ™kÉ™dir. diger numunlere de bax.



//1ï¸âƒ£ ANALÄ°Z â€” SÆHV FÄ°KÄ°R HARADAN Ã‡IXIR?

//AdÉ™tÉ™n belÉ™ dÃ¼ÅŸÃ¼nÃ¼lÃ¼r:

//â€œEndpoint elÉ™ URL deyilmi?â€

//âŒ Tam eyni deyil, amma É™laqÉ™lidir.

//2ï¸âƒ£ URL NÆDÄ°R? (ÃœNVAN)

//URL (Uniform Resource Locator) â€”
//internetdÉ™ harada nÉ™sÉ™ olduÄŸunu gÃ¶stÉ™rÉ™n Ã¼nvandÄ±r.

//Misal:

//https://api.smarttour.az/api/auth/login


//Bu deyir:

//hansÄ± protokol â†’ https

//hansÄ± domain â†’ api.smarttour.az

//hansÄ± yol â†’ /api/auth/login

//ğŸ‘‰ URL = Ã¼nvan

//3ï¸âƒ£ ENDPOINT NÆDÄ°R? (FUNKSÄ°YA)

//Endpoint â€”
//server-dÉ™ mÃ¼É™yyÉ™n URL + HTTP method ilÉ™ iÅŸ gÃ¶rÉ™n giriÅŸ nÃ¶qtÉ™sidir.

//Misal:

//POST /api/auth/login


//Bu artÄ±q:

//hansÄ± method â†’ POST

//hansÄ± yol â†’ /api/auth/login

//nÉ™ iÅŸ gÃ¶rÃ¼r â†’ login edir

//ğŸ‘‰ Endpoint = harada + necÉ™ + nÉ™ edir

//4ï¸âƒ£ ÆN VACÄ°B FÆRQ (BURANI QAÃ‡IRMA)
//	URL	Endpoint
//NÉ™dir	Ãœnvan	Funksiya
//Method daxildir?	âŒ	âœ…
//Business logic	âŒ	âœ…
//TÉ™kbaÅŸÄ±na iÅŸ gÃ¶rÃ¼r?	âŒ	âœ…
//5ï¸âƒ£ EYNÄ° URL, FÆRQLÄ° ENDPOINT
//GET  /api/users
//POST /api/users


//URL eyni

//Endpoint fÉ™rqli

//Ã‡Ã¼nki:

//biri oxuyur

//biri yaradÄ±r

//6ï¸âƒ£ JWT KONTEKSTÄ°NDÆ

//URL:

///api/orders


//Endpoint-lÉ™r:

//GET  /api/orders   â†’ token lazÄ±mdÄ±r
//POST /api/orders   â†’ token lazÄ±mdÄ±r


//JWT endpoint sÉ™viyyÉ™sindÉ™ yoxlanÄ±r, URL sÉ™viyyÉ™sindÉ™ yox.

//7ï¸âƒ£ ÆN Ã‡OX EDÄ°LÆN SÆHVLÆR

//âŒ â€œURL bloklansÄ±nâ€
//âŒ â€œRoute var, demÉ™li endpoint varâ€

//Route sadÉ™cÉ™ xÉ™ritÉ™dir, endpoint icra nÃ¶qtÉ™sidir.

//8ï¸âƒ£ 1 CÃœMLÆLÄ°K YEKUN

//URL Ã¼nvanÄ± gÃ¶stÉ™rir, endpoint isÉ™ o Ã¼nvanda hansÄ± É™mÉ™liyyatÄ±n icra olunacaÄŸÄ±nÄ±.
